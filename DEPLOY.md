# Digital Wall ë°°í¬ ê°€ì´ë“œ (Railway)

ì´ ë¬¸ì„œëŠ” Digital Wall ì• í”Œë¦¬ì¼€ì´ì…˜ì„ Railwayì— ë°°í¬í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## ëª©ì°¨
- [ì‚¬ì „ ì¤€ë¹„](#ì‚¬ì „-ì¤€ë¹„)
- [Railway ë°°í¬](#railway-ë°°í¬)
- [í™˜ê²½ ë³€ìˆ˜ ì„¤ì •](#í™˜ê²½-ë³€ìˆ˜-ì„¤ì •)
- [ë¡œì»¬ í…ŒìŠ¤íŠ¸](#ë¡œì»¬-í…ŒìŠ¤íŠ¸)
- [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)

---

## ì‚¬ì „ ì¤€ë¹„

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­
- **Node.js** v16 ì´ìƒ
- **npm** (Node.jsì™€ í•¨ê»˜ ì„¤ì¹˜ë¨)
- **Railway ê³„ì •** ([railway.app](https://railway.app)ì—ì„œ ê°€ì…)
- **GitHub ê³„ì •** (Railway ì—°ë™ìš©)

### í”„ë¡œì íŠ¸ í™•ì¸
í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— ë‹¤ìŒ íŒŒì¼ë“¤ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”:
- `railway.json` - Railway ë°°í¬ ì„¤ì •
- `.gitignore` - Git ì œì™¸ íŒŒì¼ ëª©ë¡
- `server/package.json` - ì„œë²„ ì˜ì¡´ì„± ë° ì—”ì§„ ì„¤ì •
- `client/package.json` - í´ë¼ì´ì–¸íŠ¸ ì˜ì¡´ì„±

---

## Railway ë°°í¬

### 1. GitHub ì €ì¥ì†Œ ìƒì„±

ë¨¼ì € í”„ë¡œì íŠ¸ë¥¼ GitHubì— ì˜¬ë¦½ë‹ˆë‹¤:

```bash
# Git ì´ˆê¸°í™” (ì•„ì§ ì•ˆ í–ˆë‹¤ë©´)
git init

# íŒŒì¼ ì¶”ê°€
git add .

# ì»¤ë°‹
git commit -m "Initial commit for Digital Wall"

# GitHub ì €ì¥ì†Œ ì—°ê²° (ìì‹ ì˜ ì €ì¥ì†Œ URLë¡œ ë³€ê²½)
git remote add origin https://github.com/YOUR_USERNAME/digital-wall.git

# í‘¸ì‹œ
git push -u origin main
```

> **ì°¸ê³ **: PowerShell ì‹¤í–‰ ì •ì±… ë¬¸ì œê°€ ë°œìƒí•˜ë©´:
> ```powershell
> Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
> ```

### 2. Railway í”„ë¡œì íŠ¸ ìƒì„±

1. [Railway ëŒ€ì‹œë³´ë“œ](https://railway.app/dashboard)ì— ì ‘ì†
2. **New Project** í´ë¦­
3. **Deploy from GitHub repo** ì„ íƒ
4. ê¶Œí•œ ìŠ¹ì¸ í›„ ì €ì¥ì†Œ ì„ íƒ (digital-wall)

### 3. ì„œë¹„ìŠ¤ ì„¤ì •

Railwayê°€ ìë™ìœ¼ë¡œ `railway.json` ì„¤ì •ì„ ì½ì–´ ë¹Œë“œí•©ë‹ˆë‹¤:
- **ë¹Œë“œ ëª…ë ¹**: í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ëª¨ë‘ npm install ë° ë¹Œë“œ ì‹¤í–‰
- **ì‹œì‘ ëª…ë ¹**: ì„œë²„ ì‹œì‘ (`cd server && npm start`)

### 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

Railway ëŒ€ì‹œë³´ë“œì—ì„œ:
1. í”„ë¡œì íŠ¸ ì„ íƒ â†’ **Variables** íƒ­ í´ë¦­
2. ë‹¤ìŒ í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€:

| ë³€ìˆ˜ ì´ë¦„ | ê°’ | ì„¤ëª… |
|----------|-----|------|
| `PORT` | `3000` | ì„œë²„ í¬íŠ¸ (RailwayëŠ” ìë™ìœ¼ë¡œ í• ë‹¹í•˜ë¯€ë¡œ ìƒëµ ê°€ëŠ¥) |
| `ADMIN_SECRET` | `your-secure-admin-password` | ê´€ë¦¬ì ë¹„ë°€í‚¤ (ë°˜ë“œì‹œ ë³€ê²½!) |
| `NODE_ENV` | `production` | í”„ë¡œë•ì…˜ í™˜ê²½ |

> [!CAUTION]
> `ADMIN_SECRET`ì€ ë°˜ë“œì‹œ ê°•ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ë¡œ ë³€ê²½í•˜ì„¸ìš”! ì´ ê°’ì€ ê´€ë¦¬ì ê¸°ëŠ¥ ì ‘ê·¼ì— ì‚¬ìš©ë©ë‹ˆë‹¤.

### 5. ë³¼ë¥¨ ì„¤ì • (ë°ì´í„° ì˜ì†ì„±)

SQLite ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ì„ ë³´ì¡´í•˜ë ¤ë©´ ë³¼ë¥¨ì„ ë§ˆìš´íŠ¸í•©ë‹ˆë‹¤:

1. **Settings** íƒ­ â†’ **Volumes** ì„¹ì…˜
2. **Add Volume** í´ë¦­
3. ë§ˆìš´íŠ¸ ê²½ë¡œ: `/app/server`
4. ì €ì¥

ì´ë ‡ê²Œ í•˜ë©´ ì„œë²„ ì¬ì‹œì‘ ì‹œì—ë„ `digital_wall.db` íŒŒì¼ì´ ìœ ì§€ë©ë‹ˆë‹¤.

### 6. ë°°í¬ í™•ì¸

1. **Deployments** íƒ­ì—ì„œ ë¹Œë“œ ì§„í–‰ ìƒí™© í™•ì¸
2. **View Logs** í´ë¦­í•˜ì—¬ ë¡œê·¸ í™•ì¸
3. ì„±ê³µí•˜ë©´ ë‹¤ìŒ ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤:
   ```
   ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.
   ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì´ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤.
   ì„œë²„ê°€ http://localhost:3000 ì—ì„œ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤.
   ```
4. **Settings** â†’ **Domains**ì—ì„œ ê³µê°œ URL í™•ì¸
   - ì˜ˆ: `https://digital-wall-production.up.railway.app`

---

## í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

### server/.env íŒŒì¼ (ë¡œì»¬ ê°œë°œìš©)

Railwayì—ì„œëŠ” í™˜ê²½ ë³€ìˆ˜ë¥¼ ëŒ€ì‹œë³´ë“œì—ì„œ ì„¤ì •í•˜ì§€ë§Œ, ë¡œì»¬ ê°œë°œì„ ìœ„í•´ `.env` íŒŒì¼ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```bash
# server/.env.exampleì„ ë³µì‚¬
cd server
cp .env.example .env
```

`.env` íŒŒì¼ ë‚´ìš©:
```env
PORT=3000
ADMIN_SECRET=local-dev-secret
NODE_ENV=development
```

> **ì£¼ì˜**: `.env` íŒŒì¼ì€ `.gitignore`ì— í¬í•¨ë˜ì–´ GitHubì— ì—…ë¡œë“œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

---

## ë¡œì»¬ í…ŒìŠ¤íŠ¸

ë°°í¬ ì „ ë¡œì»¬ì—ì„œ í”„ë¡œë•ì…˜ ë¹Œë“œë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 1. í´ë¼ì´ì–¸íŠ¸ ë¹Œë“œ

```bash
cd client
npm install
npm run build
```

ë¹Œë“œê°€ ì™„ë£Œë˜ë©´ `client/dist` í´ë”ì— í”„ë¡œë•ì…˜ íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤.

### 2. ì„œë²„ ì‹¤í–‰

```bash
cd ../server
npm install
npm start
```

### 3. ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸

ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:3000`ì— ì ‘ì†í•˜ì—¬:
- âœ… í˜ì´ì§€ê°€ ë¡œë“œë˜ëŠ”ì§€ í™•ì¸
- âœ… í¬ìŠ¤íŠ¸ì‡ ìƒì„±/ì‚­ì œ ë™ì‘ í™•ì¸
- âœ… ì‹¤ì‹œê°„ ë™ê¸°í™” í™•ì¸ (ë‹¤ë¥¸ íƒ­ì—ì„œ í…ŒìŠ¤íŠ¸)
- âœ… ê°œë°œì ë„êµ¬ Console/Network íƒ­ì—ì„œ ì—ëŸ¬ í™•ì¸

---

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ë¬¸ì œ: ë¹Œë“œ ì‹¤íŒ¨ - "npm: ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ë¶ˆê°€"

**ì›ì¸**: Windows PowerShell ì‹¤í–‰ ì •ì±… ë¬¸ì œ

**í•´ê²°**:
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### ë¬¸ì œ: Railway ë¹Œë“œ ì‹œê°„ ì´ˆê³¼

**ì›ì¸**: `npm install`ì´ ë„ˆë¬´ ì˜¤ë˜ ê±¸ë¦¼

**í•´ê²°**:
1. Railway ëŒ€ì‹œë³´ë“œ â†’ **Settings** â†’ **Build Configuration**
2. Build timeoutì„ ëŠ˜ë¦¼ (ê¸°ë³¸ 10ë¶„ â†’ 15ë¶„)

### ë¬¸ì œ: ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ì´ ì¬ì‹œì‘ ì‹œ ì´ˆê¸°í™”ë¨

**ì›ì¸**: ë³¼ë¥¨ì´ ë§ˆìš´íŠ¸ë˜ì§€ ì•ŠìŒ

**í•´ê²°**:
1. Railway ëŒ€ì‹œë³´ë“œ â†’ **Settings** â†’ **Volumes**
2. `/app/server` ê²½ë¡œì— ë³¼ë¥¨ ì¶”ê°€
3. ì„œë¹„ìŠ¤ ì¬ì‹œì‘

### ë¬¸ì œ: Socket.io ì—°ê²° ì‹¤íŒ¨

**ì›ì¸**: CORS ì„¤ì • ë˜ëŠ” WebSocket ì§€ì› ë¬¸ì œ

**í•´ê²°**:
1. `server/server.js`ì˜ CORS ì„¤ì • í™•ì¸:
   ```javascript
   const io = new Server(server, {
       cors: {
           origin: "*",  // ë˜ëŠ” íŠ¹ì • ë„ë©”ì¸
           methods: ["GET", "POST"]
       }
   });
   ```
2. RailwayëŠ” WebSocketì„ ìë™ ì§€ì›í•˜ë¯€ë¡œ ë³„ë„ ì„¤ì • ë¶ˆí•„ìš”

### ë¬¸ì œ: í˜ì´ì§€ê°€ 404 ì—ëŸ¬

**ì›ì¸**: í´ë¼ì´ì–¸íŠ¸ ë¹Œë“œ íŒŒì¼ì´ ì—†ìŒ

**í•´ê²°**:
1. `railway.json`ì˜ ë¹Œë“œ ëª…ë ¹ í™•ì¸
2. Railway ë¡œê·¸ì—ì„œ `npm run build` ì„±ê³µ í™•ì¸
3. `client/dist` í´ë”ê°€ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸

### ë¬¸ì œ: ê´€ë¦¬ì ê¸°ëŠ¥ ì ‘ê·¼ ë¶ˆê°€

**ì›ì¸**: `ADMIN_SECRET` í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì§€ ì•ŠìŒ

**í•´ê²°**:
1. Railway ëŒ€ì‹œë³´ë“œ â†’ **Variables**
2. `ADMIN_SECRET` ë³€ìˆ˜ ì¶”ê°€
3. ì„œë¹„ìŠ¤ ì¬ì‹œì‘

---

## ì¶”ê°€ ìµœì í™”

### 1. ì»¤ìŠ¤í…€ ë„ë©”ì¸ ì„¤ì •

Railwayì—ì„œ ë¬´ë£Œë¡œ ì»¤ìŠ¤í…€ ë„ë©”ì¸ì„ ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
1. **Settings** â†’ **Domains** â†’ **Custom Domain**
2. ë„ë©”ì¸ ì…ë ¥ ë° DNS ì„¤ì • (CNAME)

### 2. ëª¨ë‹ˆí„°ë§ ì„¤ì •

Railway ëŒ€ì‹œë³´ë“œì—ì„œ ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ í™•ì¸:
- CPU/ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
- ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½
- ë¡œê·¸ ìŠ¤íŠ¸ë¦¬ë°

### 3. ìë™ ë°°í¬ ì„¤ì •

GitHubì— í‘¸ì‹œí•  ë•Œë§ˆë‹¤ ìë™ ë°°í¬ë˜ë„ë¡ ì„¤ì •:
- Railway í”„ë¡œì íŠ¸ â†’ **Settings** â†’ **Deployments**
- **Auto Deploy** í™œì„±í™” (ê¸°ë³¸ê°’)

---

## ìš”ì•½

```mermaid
graph LR
    A[GitHubì— í‘¸ì‹œ] --> B[Railway ìë™ ê°ì§€]
    B --> C[í´ë¼ì´ì–¸íŠ¸ ë¹Œë“œ]
    C --> D[ì„œë²„ ì˜ì¡´ì„± ì„¤ì¹˜]
    D --> E[ì„œë²„ ì‹œì‘]
    E --> F[ë°°í¬ ì™„ë£Œ]
    F --> G[ê³µê°œ URL ìƒì„±]
```

**ë°°í¬ ì™„ë£Œ!** ğŸ‰

ì´ì œ Railwayì—ì„œ ì œê³µí•˜ëŠ” URLë¡œ Digital Wallì— ì ‘ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

---

## ì°¸ê³  ìë£Œ

- [Railway ê³µì‹ ë¬¸ì„œ](https://docs.railway.app/)
- [Vite ë°°í¬ ê°€ì´ë“œ](https://vitejs.dev/guide/static-deploy.html)
- [Express.js í”„ë¡œë•ì…˜ Best Practices](https://expressjs.com/en/advanced/best-practice-performance.html)
